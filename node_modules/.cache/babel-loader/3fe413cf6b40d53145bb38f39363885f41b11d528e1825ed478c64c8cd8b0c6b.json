{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.validateSpanningCellConfig = void 0;\nconst utils_1 = require(\"./utils\");\nconst inRange = (start, end, value) => {\n  return start <= value && value <= end;\n};\nconst validateSpanningCellConfig = (rows, configs) => {\n  const [nRow, nCol] = [rows.length, rows[0].length];\n  configs.forEach((config, configIndex) => {\n    const {\n      colSpan,\n      rowSpan\n    } = config;\n    if (colSpan === undefined && rowSpan === undefined) {\n      throw new Error(`Expect at least colSpan or rowSpan is provided in config.spanningCells[${configIndex}]`);\n    }\n    if (colSpan !== undefined && colSpan < 1) {\n      throw new Error(`Expect colSpan is not equal zero, instead got: ${colSpan} in config.spanningCells[${configIndex}]`);\n    }\n    if (rowSpan !== undefined && rowSpan < 1) {\n      throw new Error(`Expect rowSpan is not equal zero, instead got: ${rowSpan} in config.spanningCells[${configIndex}]`);\n    }\n  });\n  const rangeCoordinates = configs.map(utils_1.calculateRangeCoordinate);\n  rangeCoordinates.forEach(({\n    topLeft,\n    bottomRight\n  }, rangeIndex) => {\n    if (!inRange(0, nCol - 1, topLeft.col) || !inRange(0, nRow - 1, topLeft.row) || !inRange(0, nCol - 1, bottomRight.col) || !inRange(0, nRow - 1, bottomRight.row)) {\n      throw new Error(`Some cells in config.spanningCells[${rangeIndex}] are out of the table`);\n    }\n  });\n  const configOccupy = Array.from({\n    length: nRow\n  }, () => {\n    return Array.from({\n      length: nCol\n    });\n  });\n  rangeCoordinates.forEach(({\n    topLeft,\n    bottomRight\n  }, rangeIndex) => {\n    (0, utils_1.sequence)(topLeft.row, bottomRight.row).forEach(row => {\n      (0, utils_1.sequence)(topLeft.col, bottomRight.col).forEach(col => {\n        if (configOccupy[row][col] !== undefined) {\n          throw new Error(`Spanning cells in config.spanningCells[${configOccupy[row][col]}] and config.spanningCells[${rangeIndex}] are overlap each other`);\n        }\n        configOccupy[row][col] = rangeIndex;\n      });\n    });\n  });\n};\nexports.validateSpanningCellConfig = validateSpanningCellConfig;","map":{"version":3,"names":["utils_1","require","inRange","start","end","value","validateSpanningCellConfig","rows","configs","nRow","nCol","length","forEach","config","configIndex","colSpan","rowSpan","undefined","Error","rangeCoordinates","map","calculateRangeCoordinate","topLeft","bottomRight","rangeIndex","col","row","configOccupy","Array","from","sequence","exports"],"sources":["../../src/validateSpanningCellConfig.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}