{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.drawContent = void 0;\nconst drawContent = parameters => {\n  const {\n    contents,\n    separatorGetter,\n    drawSeparator,\n    spanningCellManager,\n    rowIndex,\n    elementType\n  } = parameters;\n  const contentSize = contents.length;\n  const result = [];\n  if (drawSeparator(0, contentSize)) {\n    result.push(separatorGetter(0, contentSize));\n  }\n  contents.forEach((content, contentIndex) => {\n    if (!elementType || elementType === 'border' || elementType === 'row') {\n      result.push(content);\n    }\n    if (elementType === 'cell' && rowIndex === undefined) {\n      result.push(content);\n    }\n    if (elementType === 'cell' && rowIndex !== undefined) {\n      /* istanbul ignore next */\n      const containingRange = spanningCellManager === null || spanningCellManager === void 0 ? void 0 : spanningCellManager.getContainingRange({\n        col: contentIndex,\n        row: rowIndex\n      });\n      // when drawing content row, just add a cell when it is a normal cell\n      // or belongs to first column of spanning cell\n      if (!containingRange || contentIndex === containingRange.topLeft.col) {\n        result.push(content);\n      }\n    }\n    // Only append the middle separator if the content is not the last\n    if (contentIndex + 1 < contentSize && drawSeparator(contentIndex + 1, contentSize)) {\n      const separator = separatorGetter(contentIndex + 1, contentSize);\n      if (elementType === 'cell' && rowIndex !== undefined) {\n        const currentCell = {\n          col: contentIndex + 1,\n          row: rowIndex\n        };\n        /* istanbul ignore next */\n        const containingRange = spanningCellManager === null || spanningCellManager === void 0 ? void 0 : spanningCellManager.getContainingRange(currentCell);\n        if (!containingRange || containingRange.topLeft.col === currentCell.col) {\n          result.push(separator);\n        }\n      } else {\n        result.push(separator);\n      }\n    }\n  });\n  if (drawSeparator(contentSize, contentSize)) {\n    result.push(separatorGetter(contentSize, contentSize));\n  }\n  return result.join('');\n};\nexports.drawContent = drawContent;","map":{"version":3,"names":["drawContent","parameters","contents","separatorGetter","drawSeparator","spanningCellManager","rowIndex","elementType","contentSize","length","result","push","forEach","content","contentIndex","undefined","containingRange","getContainingRange","col","row","topLeft","separator","currentCell","join","exports"],"sources":["../../src/drawContent.ts"],"sourcesContent":[null],"mappings":";;;;;;AAmBO,MAAMA,WAAW,GAAIC,UAAiC,IAAY;EACvE,MAAM;IAACC,QAAQ;IAAEC,eAAe;IAAEC,aAAa;IAAEC,mBAAmB;IAAEC,QAAQ;IAAEC;EAAW,CAAC,GAAGN,UAAU;EACzG,MAAMO,WAAW,GAAGN,QAAQ,CAACO,MAAM;EACnC,MAAMC,MAAM,GAAa,EAAE;EAE3B,IAAIN,aAAa,CAAC,CAAC,EAAEI,WAAW,CAAC,EAAE;IACjCE,MAAM,CAACC,IAAI,CAACR,eAAe,CAAC,CAAC,EAAEK,WAAW,CAAC,CAAC;;EAG9CN,QAAQ,CAACU,OAAO,CAAC,CAACC,OAAO,EAAEC,YAAY,KAAI;IACzC,IAAI,CAACP,WAAW,IAAIA,WAAW,KAAK,QAAQ,IAAIA,WAAW,KAAK,KAAK,EAAE;MACrEG,MAAM,CAACC,IAAI,CAACE,OAAO,CAAC;;IAGtB,IAAIN,WAAW,KAAK,MAAM,IAAID,QAAQ,KAAKS,SAAS,EAAE;MACpDL,MAAM,CAACC,IAAI,CAACE,OAAO,CAAC;;IAGtB,IAAIN,WAAW,KAAK,MAAM,IAAID,QAAQ,KAAKS,SAAS,EAAE;MACpD;MACA,MAAMC,eAAe,GAAGX,mBAAmB,aAAnBA,mBAAmB,uBAAnBA,mBAAmB,CAAEY,kBAAkB,CAAC;QAACC,GAAG,EAAEJ,YAAY;QAChFK,GAAG,EAAEb;MAAQ,CAAC,CAAC;MAEjB;MACA;MACA,IAAI,CAACU,eAAe,IAAIF,YAAY,KAAKE,eAAe,CAACI,OAAO,CAACF,GAAG,EAAE;QACpER,MAAM,CAACC,IAAI,CAACE,OAAO,CAAC;;;IAIxB;IACA,IAAIC,YAAY,GAAG,CAAC,GAAGN,WAAW,IAAIJ,aAAa,CAACU,YAAY,GAAG,CAAC,EAAEN,WAAW,CAAC,EAAE;MAClF,MAAMa,SAAS,GAAGlB,eAAe,CAACW,YAAY,GAAG,CAAC,EAAEN,WAAW,CAAC;MAEhE,IAAID,WAAW,KAAK,MAAM,IAAID,QAAQ,KAAKS,SAAS,EAAE;QACpD,MAAMO,WAAW,GAAoB;UAACJ,GAAG,EAAEJ,YAAY,GAAG,CAAC;UACzDK,GAAG,EAAEb;QAAQ,CAAC;QAChB;QACA,MAAMU,eAAe,GAAGX,mBAAmB,aAAnBA,mBAAmB,uBAAnBA,mBAAmB,CAAEY,kBAAkB,CAACK,WAAW,CAAC;QAC5E,IAAI,CAACN,eAAe,IAAIA,eAAe,CAACI,OAAO,CAACF,GAAG,KAAKI,WAAW,CAACJ,GAAG,EAAE;UACvER,MAAM,CAACC,IAAI,CAACU,SAAS,CAAC;;OAEzB,MAAM;QACLX,MAAM,CAACC,IAAI,CAACU,SAAS,CAAC;;;EAG5B,CAAC,CAAC;EAEF,IAAIjB,aAAa,CAACI,WAAW,EAAEA,WAAW,CAAC,EAAE;IAC3CE,MAAM,CAACC,IAAI,CAACR,eAAe,CAACK,WAAW,EAAEA,WAAW,CAAC,CAAC;;EAGxD,OAAOE,MAAM,CAACa,IAAI,CAAC,EAAE,CAAC;AACxB,CAAC;AArDYC,OAAA,CAAAxB,WAAW,GAAAA,WAAA","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}